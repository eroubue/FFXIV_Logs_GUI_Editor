# FFXIV日志编辑器 - 版本更新说明

## 概述

本项目现在支持在混淆打包时自动更新版本号，方便版本管理和发布。

## 文件结构

```
FFXIV_Logs_GUI_Editor/
├── main.py                    # 主程序文件
├── version_config.py          # 版本配置文件
├── update_version.py          # 版本更新脚本
├── build_with_version.py      # 带版本更新的简化混淆打包脚本
├── build_simple_obfuscated.py # 简化混淆打包脚本
└── 版本更新说明.md            # 本说明文档
```

## 版本更新方法

### 方法1: 使用版本更新脚本

```bash
# 更新版本号
python update_version.py v1.0.3

# 更新版本号并指定构建类型
python update_version.py v1.0.3 beta
```

### 方法2: 带版本更新的简化混淆打包

```bash
# 一步完成版本更新和简化混淆打包
python build_with_version.py v1.0.3
```

### 方法3: 直接修改配置文件

编辑 `version_config.py` 文件：

```python
# 版本信息
VERSION = "v1.0.3"  # 修改这里
AUTHOR = "Nag0mi"

# 构建信息
BUILD_DATE = "2025-08-01"  # 自动更新
BUILD_TYPE = "release"      # release, debug, beta
```

## 版本号格式

版本号必须符合以下格式：
- 格式: `v主版本.次版本.修订版本`
- 示例: `v1.0.3`, `v2.1.0`, `v1.0.10`

## 构建类型

支持以下构建类型：
- `release`: 正式发布版本
- `debug`: 调试版本
- `beta`: 测试版本

## 自动化流程

### 1. 版本更新流程

```bash
# 1. 更新版本号
python update_version.py v1.0.3

# 2. 验证版本更新
python version_config.py

# 3. 运行程序测试
python main.py
```

### 2. 完整简化混淆打包流程

```bash
# 一步完成版本更新和简化混淆打包
python build_with_version.py v1.0.3
```

## 版本信息显示

程序界面右上角会显示当前版本信息：
```
作者:Nag0mi 版本:v1.0.3
严禁倒卖，完全免费，仅供学习交流使用！
```

## 注意事项

1. **版本号格式**: 必须使用 `v` 开头，如 `v1.0.3`
2. **备份**: 建议在更新版本前备份重要文件
3. **测试**: 更新版本后请测试程序功能是否正常
4. **构建日期**: 会自动更新为当前日期

## 故障排除

### 问题1: 版本更新失败
```bash
# 检查版本号格式
python update_version.py v1.0.3

# 检查文件权限
# 确保有写入权限
```

### 问题2: 程序无法启动
```bash
# 检查版本配置文件
python version_config.py

# 检查主程序
python main.py
```

### 问题3: 简化混淆打包失败
```bash
# 检查依赖包
pip install pyinstaller

# 重新运行简化混淆打包
python build_with_version.py v1.0.3
```

## 更新日志

### v1.0.3 (2025-08-01)
- 修改为使用简化混淆打包
- 改进版本更新流程
- 优化打包性能

### v1.0.2 (2025-08-01)
- 添加版本更新功能
- 支持自动版本管理
- 改进混淆打包流程

### v1.0.1 (2024-01-15)
- 支持更高伤害值的编码算法
- 修复编码错误问题
- 改进用户界面

## 技术支持

如有问题，请联系作者或查看项目文档。

---

**作者**: Nag0mi  
**版本**: v1.0.3  
**最后更新**: 2025-08-01 