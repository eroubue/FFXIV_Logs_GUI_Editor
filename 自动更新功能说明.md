# 自动更新功能说明

## 功能概述

FFXIV日志编辑器现在集成了自动更新检测功能。当程序启动时，会自动检查GitHub仓库是否有新版本可用。

## 功能特点

1. **自动检测**: 程序启动时自动检查GitHub仓库的最新版本
2. **版本比较**: 智能比较版本号，支持v1.0.3、V1.0.3等格式
3. **用户友好**: 发现新版本时显示更新对话框，包含版本信息和更新说明
4. **一键下载**: 点击"打开下载页面"按钮直接跳转到GitHub发布页面
5. **后台运行**: 更新检查在后台线程中运行，不影响程序启动速度

## 工作流程

1. 程序启动时，在后台线程中检查GitHub API
2. 获取最新发布信息（版本号、更新说明、发布时间）
3. 与当前版本进行比较
4. 如果发现新版本，显示更新对话框
5. 用户可以选择"打开下载页面"或"稍后提醒"
6. 点击"打开下载页面"会在默认浏览器中打开GitHub发布页面

## 技术实现

### 核心文件

- `auto_updater.py`: 自动更新模块
- `main.py`: 主程序（已集成更新检查）
- `version_config.py`: 版本配置文件

### 依赖库

- `requests`: 用于HTTP请求GitHub API
- `webbrowser`: 用于打开浏览器下载页面
- `tkinter`: 用于显示更新对话框

### GitHub仓库配置

当前配置的GitHub仓库：`eroubue/FFXIV_Logs_GUI_Editor`

## 测试方法

运行测试脚本验证功能：

```bash
python test_auto_updater.py
```

## 注意事项

1. **网络连接**: 需要网络连接才能检查更新
2. **防火墙**: 确保防火墙允许程序访问GitHub API
3. **版本格式**: 支持标准版本号格式（如v1.0.3、V1.0.3）
4. **手动更新**: 程序不会自动下载和安装更新，需要用户手动下载

## 故障排除

### 常见问题

1. **检查更新失败**
   - 检查网络连接
   - 确认防火墙设置
   - 查看控制台错误信息

2. **版本比较错误**
   - 确认版本号格式正确
   - 检查GitHub发布页面的版本标签

3. **无法打开下载页面**
   - 确认默认浏览器设置
   - 手动访问GitHub发布页面

### 调试方法

运行调试脚本查看GitHub API响应：

```bash
python debug_github_api.py
```

## 更新日志

- v1.0.3: 集成自动更新功能
  - 添加版本检测
  - 添加更新对话框
  - 添加GitHub发布页面跳转
  - 支持后台检查更新 